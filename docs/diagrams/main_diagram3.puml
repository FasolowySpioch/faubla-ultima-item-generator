@startuml
package [..] as C_0016431317663134048372 {
package [src] as C_0010634688166860467214 {
package [models] as C_0001626712604113445200 {
abstract "IJsonSerializable" as C_0017605762593928520665
abstract C_0017605762593928520665 {
+~IJsonSerializable() = default : void
..
{abstract} +toJson() const = 0 : QJsonObject
__
}
enum "ItemType" as C_0009506588567340924694
enum C_0009506588567340924694 {
WEAPON
ARMOR
ACCESSORY
RANDOM
}
abstract "Item" as C_0005967165952864249862
abstract C_0005967165952864249862 {
+Item() : void
+Item(std::string_view name, std::string_view desc, int default_price, int add_price) : void
+~Item() = default : void
..
+addToPrice(const int add) : void
+getDesc() const : const std::string &
{abstract} +getItemType() const = 0 : ItemType
+getName() const : const std::string &
+getPrice() const : int
+getPriceModified() const : int
+increasePriceBy(int add) : void
+setDefaultDesc() : void
+setDefaultPrice() : void
+setDesc(std::string_view d) : void
+setName(std::string_view n) : void
{abstract} +toJson() const = 0 : QJsonObject
__
#_default_price : const int
#_desc : std::string
#_name : std::string
#_price : int
}
enum "Attribute" as C_0013522169845410927695
enum C_0013522169845410927695 {
WLP
INS
DEX
MIG
NONE
}
enum "DMGType" as C_0009351376410296248543
enum C_0009351376410296248543 {
PHYSICAL
AIR
BOLT
DARK
EARTH
FIRE
ICE
LIGHT
POISON
NONE
}
enum "WeaponType" as C_0008393046724430625929
enum C_0008393046724430625929 {
ARCANE
BOW
BRAWL
DAGGER
FIREARM
FLAIL
HEAVY
SPEAR
SWORD
THROWN
NONE
}
class "Weapon" as C_0009880302970961535201
class C_0009880302970961535201 {
+Weapon() : void
+Weapon(std::string_view name, std::string_view desc, int default_price, int price, WeaponType weapon_type, int dmg_desc, DMGType dmg_type, Attribute accuracy1, Attribute accuracy2, int accuracy_bonus, bool isSingleHanded, bool isRange, bool isMartial) : void
..
+getAccuracy1() const : Attribute
+getAccuracy2() const : Attribute
+getAccuracyBonus() const : int
+getDmgDesc() const : int
+getDmgType() const : DMGType
+getIsMartial() const : bool
+getIsRange() const : bool
+getIsSingleHanded() const : bool
+getItemType() const : ItemType
+getWeaponType() const : WeaponType
+setAccuracy1(Attribute a1) : void
+setAccuracy2(Attribute a2) : void
+setAccuracyBonus(int ab) : void
+setDmgDesc(int dd) : void
+setDmgType(DMGType dt) : void
+setIsMartial(bool im) : void
+setIsRange(bool ir) : void
+setIsSingleHanded(bool ish) : void
+setType(WeaponType t) : void
+toJson() const : QJsonObject
__
-_accuracy1 : Attribute
-_accuracy2 : Attribute
-_accuracy_bonus : int
-_dmg_desc : int
-_dmg_type : DMGType
-_isMartial : bool
-_isRange : bool
-_isSingleHanded : bool
-_weapon_type : WeaponType
}
class "Player" as C_0003692324345213718176
class C_0003692324345213718176 {
+Player() : void
+Player(std::string_view character_name, std::string_view author_name, int level, Attribute p_die1, Attribute p_die2, WeaponType pref_weapon, bool canMartialWeapon, bool canMartialArmor, bool canRange, bool canShield) : void
..
+getAuthorName() const : const std::string &
+getCanMartialArmor() const : bool
+getCanMartialWeapon() const : bool
+getCanRange() const : bool
+getCanShield() const : bool
+getCharacterName() const : const std::string &
+getLevel() const : int
+getPreferredWeaponType() const : WeaponType
+getPrimaryDie1() const : Attribute
+getPrimaryDie2() const : Attribute
+setAuthorName(std::string_view author_name) : void
+setCanMartialArmor(bool canMartialArmor) : void
+setCanMartialWeapon(bool canMartialWeapon) : void
+setCanRange(bool canRange) : void
+setCanShield(bool canShield) : void
+setCharacterName(std::string_view ch_name) : void
+setLevel(int level) : void
+setPreferredWeaponType(WeaponType pref_weapon) : void
+setPrimaryDie1(Attribute p_die1) : void
+setPrimaryDie2(Attribute p_die2) : void
+toJson() const : QJsonObject
__
-_author_name : std::string
-_canMartialArmor : bool
-_canMartialWeapon : bool
-_canRange : bool
-_canShield : bool
-_character_name : std::string
-_level : int
-_preferred_weapon_type : WeaponType
-_primary_die1 : Attribute
-_primary_die2 : Attribute
}
class "Quality" as C_0017759373907162862278
class C_0017759373907162862278 {
+Quality() : void
+Quality(const std::string_view _desc, const int _cost_add, const bool _isOffensive) : void
__
+cost_add : int
+desc : std::string
+isOffensive : bool
}
class "Accessory" as C_0001733752998306711321
class C_0001733752998306711321 {
+Accessory() = default : void
+Accessory(std::string_view name, std::string_view desc, int default_price, int price) : void
..
+getItemType() const : ItemType
+toJson() const : QJsonObject
__
}
class "Armor" as C_0017091837617986840564
class C_0017091837617986840564 {
+Armor() : void
+Armor(std::string_view name, std::string_view desc, int default_price, int price, int initiative, bool isMartial, Attribute magic_defense, int magic_defense_bonus, Attribute defense, int defense_bonus, bool isShield) : void
..
+getDefAtr() const : Attribute
+getDefBonus() const : int
+getInitiative() const : int
+getIsMartial() const : bool
+getIsShield() const : bool
+getItemType() const : ItemType
+getMagDefAtr() const : Attribute
+getMagDefBonus() const : int
+setDef(int d) : void
+setInitiative(int in) : void
+setIsMartial(bool m) : void
+setIsShield(bool s) : void
+setMagDef(int md) : void
+toJson() const : QJsonObject
__
-_defense : Attribute
-_defense_bonus : int
-_initiative : int
-_isMartial : bool
-_isShield : bool
-_magic_defense : Attribute
-_magic_defense_bonus : int
}
}
package [core] as C_0009398224592071360425 {
class "CampaignManager" as C_0006935415749788347394
class C_0006935415749788347394 {
+CampaignManager() : void
..
+addItem(std::unique_ptr<Item> item) : void
+addPlayer(std::unique_ptr<Player> player) : void
+clear() : void
+deleteAllItems() : void
+deleteAllPlayers() : void
+deleteItem(size_t idx) : void
+deletePlayer(size_t idx) : void
+getItem(size_t idx) const : Item &
+getItems() const : const std::vector<std::unique_ptr<Item>> &
+getPlayer(size_t idx) const : Player &
+getPlayers() const : const std::vector<std::unique_ptr<Player>> &
+getRandomPlayer() : const Player &
+replaceItem(size_t idx, std::unique_ptr<Item> item) : void
+replacePlayer(size_t idx, std::unique_ptr<Player> player) : void
__
-_items : std::vector<std::unique_ptr<Item>>
-_players : std::vector<std::unique_ptr<Player>>
-mt : std::mt19937
}
}
package [systems] as C_0016692703261607978348 {
abstract "GeneratorStrategy" as C_0003391557478520177739
abstract C_0003391557478520177739 {
+~GeneratorStrategy() = default : void
..
{abstract} +generate(const Player & player) = 0 : std::unique_ptr<Item>
__
#_mt : std::mt19937
}
class "QualityGenerator" as C_0017722926631985697211
class C_0017722926631985697211 {
+QualityGenerator(const std::string & file_path) : void
..
+applyRandomQualityTo(Item * item) : void
+generate() : const Quality &
__
-_cache_qualities : std::vector<Quality>
-_mt : std::mt19937
}
class "ItemGeneratorSystem" as C_0003751086353887321154
class C_0003751086353887321154 {
+ItemGeneratorSystem() : void
..
+assignQuality(ItemType type, Item * item) : void
+generateItem(ItemType type, const Player & player) : std::unique_ptr<Item>
-getRandomItemType() : ItemType
{static} -isItemPriceValid(const Item & item, const Player & player) : bool
__
-mt : std::mt19937
-quality_gen : std::map<ItemType,std::unique_ptr<QualityGenerator>>
-strategies : std::map<ItemType,std::unique_ptr<GeneratorStrategy>>
}
class "AccessoryGenerator" as C_0004788119760935680862
class C_0004788119760935680862 {
+AccessoryGenerator() : void
..
+generate(const Player & player) : std::unique_ptr<Item>
__
}
class "ArmorGenerator" as C_0005567866987455504025
class C_0005567866987455504025 {
+ArmorGenerator(const std::string & file_path) : void
..
+generate(const Player & player) : std::unique_ptr<Item>
{static} -isArmorUsable(const Player & player, const Armor & armor) : bool
__
-_cache_armors : std::vector<std::unique_ptr<Armor>>
}
class "WeaponGenerator" as C_0004150406585329947926
class C_0004150406585329947926 {
+WeaponGenerator(const std::string & file_path) : void
..
-filterByPlayerAttributesHard(const Player & player) const : std::vector<const Weapon *>
-filterByPlayerAttributesSoft(const Player & player) const : std::vector<const Weapon *>
-filterByPlayerPreference(const Player & player) const : std::vector<const Weapon *>
+generate(const Player & player) : std::unique_ptr<Item>
{static} -isWeaponUsable(const Player & player, const Weapon & weapon) : bool
__
-_cache_weapons : std::vector<std::unique_ptr<Weapon>>
}
}
package [io] as C_0016395333381226012294 {
class "CampaignSerializer" as C_0004718098425785505463
class C_0004718098425785505463 {
{static} -itemFromJson(QJsonObject json_item) : std::unique_ptr<Item>
{static} +load(CampaignManager & mng, const QString & file_path) : bool
{static} -playerFromJson(QJsonObject json_player) : std::unique_ptr<Player>
{static} +save(const CampaignManager & mng, const QString & file_path) : bool
__
}
}
package [controllers] as C_0012248337201340293231 {
class "AppController" as C_0007310296898495958844
class C_0007310296898495958844 {
+clearRepository() : void
{static} +deleteCampaign(const QString & file_path) : bool
+editItem(size_t idx, std::unique_ptr<Item> edited_item) : void
+editPlayer(size_t idx, std::unique_ptr<Player> edited_player) : void
+generateItem(ItemType type, const Player & player) : std::unique_ptr<Item>
+generateItemForRandomPlayer() : std::unique_ptr<Item>
+generateRandomItem(const Player & player) : std::unique_ptr<Item>
+getItemsRepository() const : const std::vector<std::unique_ptr<Item>> &
+getPlayersRepository() const : const std::vector<std::unique_ptr<Player>> &
+loadCampaign(const QString & file_path) : bool
+removeItem(size_t idx) : void
+removePlayer(size_t idx) : void
+rerollQuality(Item * item) : void
+saveCampaign(const QString & file_path) const : bool
+saveItem(std::unique_ptr<Item> item) : void
+savePlayer(std::unique_ptr<Player> player) : void
__
-generator : ItemGeneratorSystem
-repository : CampaignManager
}
}
package [tests] as C_0009102687024667839383 {
class "Test" as C_0002626979548338364165
class C_0002626979548338364165 {
+allArmorTests() : void
+allCostTests() : void
+allIGSTests() : void
+allWeaponTests() : void
-checkAttributes(const Weapon & w, const Player & p) : void
-checkCost(const Item & i) : void
-checkCostToLevel(const Item & i, const Player & p) : void
-checkMartial(const Weapon & w, const Player & p) : void
-checkMartial(const Armor & a) : void
-checkMartial(const Armor & a, const Player & p) : void
-checkPreference(const Weapon & w, const Player & p) : void
-checkRange(const Weapon & w, const Player & p) : void
-checkShield(const Armor & a, const Player & p) : void
-readArmor(const Armor & a) : void
-readWeapon(const Weapon & GenWeapon) : void
+testArmorPreferences() : void
+testArmorRandom() : void
+testIGSRandom() : void
+testIGSSpecific() : void
+testLegalArmorQuality() : void
+testWeaponAttributePreference() : void
+testWeaponFullPreferences() : void
+testWeaponRandom() : void
+testWeaponTypePreference() : void
__
-_ag : std::unique_ptr<ArmorGenerator>
-_igs : ItemGeneratorSystem
-_qg : std::unique_ptr<QualityGenerator>
-_wg : std::unique_ptr<WeaponGenerator>
-attributes : std::string[4]
-dmg_type : std::string[9]
-weapon_type : std::string[10]
}
}
}
package [gui] as C_0004695295680056233043 {
package [models] as C_0006018854047243949875 {
class "MyItemTableModel" as C_0014262518239461510613
class C_0014262518239461510613 {
+MyItemTableModel(const std::vector<std::unique_ptr<Item>> * _container, QObject * parent = nullptr) : void
..
+columnCount(const QModelIndex & parent = QModelIndex()) const : int
+data(const QModelIndex & index, int role = Qt::DisplayRole) const : QVariant
+headerData(int section, Qt::Orientation orientation, int role = Qt::DisplayRole) const : QVariant
+refresh() : void
+rowCount(const QModelIndex & parent = QModelIndex()) const : int
__
-container : const std::vector<std::unique_ptr<Item>> *
}
class "MyPlayerTableModel" as C_0011863623600894958275
class C_0011863623600894958275 {
+MyPlayerTableModel(const std::vector<std::unique_ptr<Player>> * _container, QObject * parent = nullptr) : void
..
+columnCount(const QModelIndex & parent = QModelIndex()) const : int
+data(const QModelIndex & index, int role = Qt::DisplayRole) const : QVariant
+headerData(int section, Qt::Orientation orientation, int role = Qt::DisplayRole) const : QVariant
+refresh() : void
+rowCount(const QModelIndex & parent = QModelIndex()) const : int
__
-container : const std::vector<std::unique_ptr<Player>> *
}
}
class "MainWindow" as C_0002900986228388971956
class C_0002900986228388971956 {
+MainWindow(QWidget * parent = nullptr) : void
+~MainWindow() : void
..
-clearControls() : void
+metaObject() const : const QMetaObject *
-on_BttnAddPlayers_clicked() : void
-on_BttnDelCampain_clicked() : void
-on_BttnEditPlayers_clicked() : void
-on_BttnLoadCampain_clicked() : void
-on_BttnNormalGenerate_clicked() : void
-on_BttnQuickGenerate_clicked() : void
-on_BttnSaveCampain_clicked() : void
-on_TableGeneratedItems_doubleClicked(const QModelIndex & index) : void
+qt_metacall(QMetaObject::Call, int, void **) : int
+qt_metacast(const char *) : void *
{static} -qt_static_metacall(QObject *, QMetaObject::Call, int, void **) : void
-removePlayer(int index) : void
{static} +tr(const char * s, const char * c = nullptr, int n = -1) : QString
__
-_appcontrol : AppController
-_item_model : MyItemTableModel *
-_loadedFile : QString
-_player_model : MyPlayerTableModel *
{static} +staticMetaObject : const QMetaObject
-ui : Ui::MainWindow *
}
class "MainWindow" as C_0005461363864585996070
class C_0005461363864585996070 {
__
}
}
package [..] as C_0014171261687204616676 {
package [..] as C_0005643450359404850452 {
package [..] as C_0007205590463529964868 {
package [..] as C_0005849845958562319668 {
package [..] as C_0001662950104636937124 {
package [Qt] as C_0010702282364967397213 {
package [6.8.0] as C_0012626195919979296151 {
package [mingw_64] as C_0015693061597172910648 {
package [include] as C_0018124199592555195040 {
package [QtCore] as C_0002166560000924496074 {
class "MainWindow::QPrivateSignal" as C_0013559316693802428772
class C_0013559316693802428772 {
+QPrivateSignal() constexpr = default : void
__
}
}
}
}
}
}
}
}
}
}
}
}
C_0005967165952864249862 ..> C_0009506588567340924694
C_0017605762593928520665 <|-- C_0005967165952864249862
C_0009880302970961535201 ..> C_0009506588567340924694
C_0009880302970961535201 o-- C_0008393046724430625929 : -_weapon_type
C_0009880302970961535201 o-- C_0009351376410296248543 : -_dmg_type
C_0009880302970961535201 o-- C_0013522169845410927695 : -_accuracy1
C_0009880302970961535201 o-- C_0013522169845410927695 : -_accuracy2
C_0005967165952864249862 <|-- C_0009880302970961535201
C_0003692324345213718176 o-- C_0013522169845410927695 : -_primary_die1
C_0003692324345213718176 o-- C_0013522169845410927695 : -_primary_die2
C_0003692324345213718176 o-- C_0008393046724430625929 : -_preferred_weapon_type
C_0017605762593928520665 <|-- C_0003692324345213718176
C_0001733752998306711321 ..> C_0009506588567340924694
C_0005967165952864249862 <|-- C_0001733752998306711321
C_0017091837617986840564 ..> C_0009506588567340924694
C_0017091837617986840564 o-- C_0013522169845410927695 : -_magic_defense
C_0017091837617986840564 o-- C_0013522169845410927695 : -_defense
C_0005967165952864249862 <|-- C_0017091837617986840564
C_0006935415749788347394 o-- C_0005967165952864249862 : -_items
C_0006935415749788347394 o-- C_0003692324345213718176 : -_players
C_0003391557478520177739 ..> C_0003692324345213718176
C_0003391557478520177739 ..> C_0005967165952864249862
C_0017722926631985697211 ..> C_0005967165952864249862
C_0017722926631985697211 o-- C_0017759373907162862278 : -_cache_qualities
C_0003751086353887321154 ..> C_0005967165952864249862
C_0003751086353887321154 ..> C_0003692324345213718176
C_0003751086353887321154 o-- C_0009506588567340924694 : -strategies
C_0003751086353887321154 o-- C_0003391557478520177739 : -strategies
C_0003751086353887321154 o-- C_0009506588567340924694 : -quality_gen
C_0003751086353887321154 o-- C_0017722926631985697211 : -quality_gen
C_0004788119760935680862 ..> C_0003692324345213718176
C_0004788119760935680862 ..> C_0005967165952864249862
C_0003391557478520177739 <|-- C_0004788119760935680862
C_0005567866987455504025 ..> C_0003692324345213718176
C_0005567866987455504025 ..> C_0005967165952864249862
C_0005567866987455504025 o-- C_0017091837617986840564 : -_cache_armors
C_0003391557478520177739 <|-- C_0005567866987455504025
C_0004150406585329947926 ..> C_0003692324345213718176
C_0004150406585329947926 ..> C_0005967165952864249862
C_0004150406585329947926 o-- C_0009880302970961535201 : -_cache_weapons
C_0003391557478520177739 <|-- C_0004150406585329947926
C_0004718098425785505463 ..> C_0003692324345213718176
C_0004718098425785505463 ..> C_0005967165952864249862
C_0004718098425785505463 ..> C_0006935415749788347394
C_0007310296898495958844 ..> C_0003692324345213718176
C_0007310296898495958844 ..> C_0005967165952864249862
C_0007310296898495958844 ..> C_0009506588567340924694
C_0007310296898495958844 o-- C_0006935415749788347394 : -repository
C_0007310296898495958844 o-- C_0003751086353887321154 : -generator
C_0002626979548338364165 ..> C_0009880302970961535201
C_0002626979548338364165 ..> C_0003692324345213718176
C_0002626979548338364165 ..> C_0005967165952864249862
C_0002626979548338364165 ..> C_0017091837617986840564
C_0002626979548338364165 o-- C_0003751086353887321154 : -_igs
C_0002626979548338364165 o-- C_0004150406585329947926 : -_wg
C_0002626979548338364165 o-- C_0005567866987455504025 : -_ag
C_0002626979548338364165 o-- C_0017722926631985697211 : -_qg
C_0014262518239461510613 --> C_0005967165952864249862 : -container
C_0011863623600894958275 --> C_0003692324345213718176 : -container
C_0002900986228388971956 --> C_0005461363864585996070 : -ui
C_0002900986228388971956 o-- C_0007310296898495958844 : -_appcontrol
C_0002900986228388971956 --> C_0014262518239461510613 : -_item_model
C_0002900986228388971956 --> C_0011863623600894958275 : -_player_model
C_0013559316693802428772 --+ C_0002900986228388971956

'Generated with clang-uml, version 0.6.2
'LLVM version clang version 20.1.7 (https://github.com/llvm/llvm-project.git 6146a88f60492b520a36f8f8f3231e15f3cc6082)
@enduml
